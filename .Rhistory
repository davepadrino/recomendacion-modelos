```
Para comenzar con el análisis exploratorio se solicita el nombre de sus columnas para asi determinar si hay alguna que no sirva para el análisis.
```{r}
names(ejemplo)
names(periodico)
colnames(periodico)[4] <-  "items"
head(ejemplo$X)
ejemplo$X <- NULL
periodico$X <- NULL
example.bots <- as.character()
for(i in 1:length(periodico$entry)){
calc <- as.numeric(difftime(periodico$exit[i], periodico$entry[i], unit="sec"))
if (calc < 21){
example.bots <- append(example.bots, as.character(periodico$ID[i]))
}
}
for(i in 1:length(periodico$entry)){
calc <- as.numeric(difftime(periodico$exit[i], periodico$entry[i], unit="sec"))
if (calc < 21){
example.bots <- append(example.bots, as.character(periodico$ID[i]))
}
}
?"as.POSIXct"
periodico$entry <- as.POSIXct(periodico$entry, origin = "1970-01-01")
periodico$exit <- as.POSIXct(periodico$exit, origin = "1970-01-01")
periodico$exit <- as.POSIXct(periodico$exit, origin = "1970-01-01")
periodico$entry <- as.POSIX(periodico$entry, origin = "1970-01-01")
names(periodico)
periodico <- read.csv("periodico.csv")
ejemplo <- read.csv("ejemplo.csv")
names(periodico)
colnames(periodico)[5] <-  "items"
ejemplo$X <- NULL
periodico$X <- NULL
names(periodico)
periodico <- mutate(periodico, estadia = exit - entry)
library(dplyr)
library("dplyr")
install.packages("dplyr")
library("dplyr")
periodico <- mutate(periodico, estadia = exit - entry)
periodico$entry <- as.POSIXct(periodico$entry, origin = "1970-01-01")
periodico$exit <- as.POSIXct(periodico$exit, origin = "1970-01-01")
periodico <- mutate(periodico, estadia = exit - entry)
names(periodico)
periodico$estadia
head(periodico$estadia)
length(periodico$estadia)
periodico$estadia <- NULL
example.bots <- as.character()
for(i in 1:length(periodico$entry)){
calc <- as.numeric(difftime(periodico$exit[i], periodico$entry[i], unit="sec"))
if (calc < 21){
example.bots <- append(example.bots, as.character(periodico$ID[i]))
}
}
}
length(example.bots)
example.bots <- as.character()
for(i in 1:length(periodico$entry)){
calc <- as.numeric(difftime(periodico$exit[i], periodico$entry[i], unit="sec"))
if (calc < 21){
example.bots <- append(example.bots, as.character(periodico$ID[i]))
}
}
length(example.bots)
head(example.bots)
contenido <- c("deportes","politica","variedades","internacional","nacionales","sucesos","comunidad","negocios","opinion")
item2article <- function(numbers, element){
if(floor(((numbers[i]/9) %% 1)*10)==0){
group <- as.integer((numbers[i]/9)+1)
article <- floor(((numbers[i]/9) %% 1)*10)
article <- paste(c("articulo",article), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}else{
group <- as.integer(numbers[i]/9)
article <- paste(c("articulo",9), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}
return(element)
}
articles <- as.character()
items <- unlist(strsplit(ejemplo, ","))
ejemplo$items[1]
items <- unlist(strsplit(ejemplo$items, ","))
ejemplo$items <- as.character(ejemplo$items)
ejemplo$items[1]
items <- unlist(strsplit(ejemplo$items, ","))
items
items <- sapply(items, unlist(strsplit(ejemplo$items, ",")))
rm(items)
items <- sapply(items, unlist(strsplit(ejemplo$items, ",")))
items <- sapply(items, unlist(strsplit(, ",")))
items <- sapply(ejemplo$items, unlist(strsplit(ejemplo$items, ",")))
items <- sapply(ejemplo$items, unlist(strsplit(",")))
unliststr <- function(vec){
return(unlist(strsplit(v, ",")))
}
unliststr(ejemplo$items[3])
unliststr <- function(vec){
return(unlist(strsplit(vec, ",")))
}
unliststr(ejemplo$items[3])
items <- sapply(ejemplo$items, unliststr)
items
items[20]
class(items[20])
items <- unlist(sapply(ejemplo$items, unliststr))
items
item[20]
items[20]
items[1]
items <- sapply(ejemplo$items, unliststr)
items[1]
items[[1]]
unlist(items[1])
unlist(strsplit(ejemplo$items[3], ","))
unlist(items[1])[1]
unlist(items[1])[[1]]
class(items)
unique(na.omit(as.numeric(unlist(strsplit(items[1], "[^0-9]+")))))
unique(na.omit(as.numeric(unlist(strsplit(items[[1]], "[^0-9]+")))))
unique(na.omit(as.numeric(unlist(strsplit(items[[]], "[^0-9]+")))))
unique(na.omit(as.numeric(unlist(strsplit(items, "[^0-9]+")))))
items[[1]]
as.character(items[1])
head(as.character(items))
length(as.character(items))
unique(na.omit(as.numeric(unlist(strsplit(as.character(items[1]), "[^0-9]+")))))
numbers <- unique(na.omit(as.numeric(unlist(strsplit(as.character(items), "[^0-9]+")))))
numbers
unliststr <- function(vec){
it <- unlist(strsplit(vec, ","))
numbers <- unique(na.omit(as.numeric(unlist(strsplit(as.character(items), "[^0-9]+")))))
#element <- sapply(articles, item2article(numbers))
return()
}
unliststr <- function(vec){
it <- unlist(strsplit(vec, ","))
numbers <- unique(na.omit(as.numeric(unlist(strsplit(as.character(items), "[^0-9]+")))))
#element <- sapply(articles, item2article(numbers))
return(numbers)
}
unliststr(ejemplo$items[1])
unliststr <- function(vec){
it <- unlist(strsplit(vec, ","))
numbers <- unique(na.omit(as.numeric(unlist(strsplit(as.character(it), "[^0-9]+")))))
#element <- sapply(articles, item2article(numbers))
return(numbers)
}
unliststr(ejemplo$items[1])
unliststr(ejemplo$items[5])
item2article <- function(numbers){
if(floor(((numbers[i]/9) %% 1)*10)==0){
group <- as.integer((numbers[i]/9)+1)
article <- floor(((numbers[i]/9) %% 1)*10)
article <- paste(c("articulo",article), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}else{
group <- as.integer(numbers[i]/9)
article <- paste(c("articulo",9), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}
return(element)
}
item2article(c(1,9,63))
?sapply
sapply(articles, item2article(numbers))
item2article <- function(numbers){
if(floor(((numbers/9) %% 1)*10)==0){
group <- as.integer((numbers/9)+1)
article <- floor(((numbers/9) %% 1)*10)
article <- paste(c("articulo",article), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}else{
group <- as.integer(numbers/9)
article <- paste(c("articulo",9), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}
return(element)
}
sapply(articles, item2article(numbers))
item2article <- function(numbers){
for (i in 1:length(numbers)){
if(floor(((numbers[i]/9) %% 1)*10)!=0){
group <- as.integer((numbers[i]/9)+1)
article <- floor(((numbers[i]/9) %% 1)*10)
article <- paste(c("articulo",article), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}else{
group <- as.integer(numbers[i]/9)
article <- paste(c("articulo",9), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}
}
return(element)
}
sapply(articles, item2article(numbers))
element <- character()
item2article <- function(numbers){
element <- character()
for (i in 1:length(numbers)){
if(floor(((numbers[i]/9) %% 1)*10)!=0){
group <- as.integer((numbers[i]/9)+1)
article <- floor(((numbers[i]/9) %% 1)*10)
article <- paste(c("articulo",article), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}else{
group <- as.integer(numbers[i]/9)
article <- paste(c("articulo",9), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}
}
return(element)
}
rm(element)
sapply(articles, item2article(numbers))
rm(numbers)
unliststr <- function(vec){
it <- unlist(strsplit(vec, ","))
numbers <- unique(na.omit(as.numeric(unlist(strsplit(as.character(it), "[^0-9]+")))))
#element <- sapply(articles, item2article(numbers))
return(numbers)
}
items <- sapply(ejemplo$items, unliststr)
items
unliststr <- function(vec){
it <- unlist(strsplit(vec, ","))
numbers <- unique(na.omit(as.numeric(unlist(strsplit(as.character(it), "[^0-9]+")))))
#element <- sapply(articles, item2article(numbers))
return(numbers)
}
unliststr("{item1,item9,item63}")
class(unliststr("{item1,item9,item63}"))
numbers <- c(1,9,63)
class(numbers)
unliststr("{item1,item9,item63}")[1]
numbers[1]
sapply(articles, item2article(numbers))
x <- sapply(articles, item2article(numbers))
lapply(articles, item2article(numbers))
unliststr <- function(vec){
it <- unlist(strsplit(vec, ","))
numbers <- unique(na.omit(as.numeric(unlist(strsplit(as.character(it), "[^0-9]+")))))
element <- character()
for (i in 1:length(numbers)){
if(floor(((numbers[i]/9) %% 1)*10)!=0){
group <- as.integer((numbers[i]/9)+1)
article <- floor(((numbers[i]/9) %% 1)*10)
article <- paste(c("articulo",article), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}else{
group <- as.integer(numbers[i]/9)
article <- paste(c("articulo",9), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}
}
return(element)
}
unliststr <- function(vec){
it <- unlist(strsplit(vec, ","))
numbers <- unique(na.omit(as.numeric(unlist(strsplit(as.character(it), "[^0-9]+")))))
#element <- sapply(numbers, item2article)
return(numbers)
}
item2article <- function(numbers){
element <- character()
for (i in 1:length(numbers)){
if(floor(((numbers[i]/9) %% 1)*10)!=0){
group <- as.integer((numbers[i]/9)+1)
article <- floor(((numbers[i]/9) %% 1)*10)
article <- paste(c("articulo",article), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}else{
group <- as.integer(numbers[i]/9)
article <- paste(c("articulo",9), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}
}
return(element)
}
unliststr(ejemplo$items[1])
sapply(numbers, item2article)
unliststr <- function(vec){
it <- unlist(strsplit(vec, ","))
numbers <- unique(na.omit(as.numeric(unlist(strsplit(as.character(it), "[^0-9]+")))))
element <- sapply(numbers, item2article)
return(element)
}
rm(numbers)
item2article <- function(numbers){
element <- character()
for (i in 1:length(numbers)){
if(floor(((numbers[i]/9) %% 1)*10)!=0){
group <- as.integer((numbers[i]/9)+1)
article <- floor(((numbers[i]/9) %% 1)*10)
article <- paste(c("articulo",article), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}else{
group <- as.integer(numbers[i]/9)
article <- paste(c("articulo",9), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}
}
return(element)
}
unliststr <- function(vec){
it <- unlist(strsplit(vec, ","))
numbers <- unique(na.omit(as.numeric(unlist(strsplit(as.character(it), "[^0-9]+")))))
element <- sapply(numbers, item2article)
return(element)
}
unliststr(ejemplo$items)
sapply(ejemplo$items, unliststr)
unliststr <- function(vec){
it <- unlist(strsplit(vec, ","))
numbers <- unique(na.omit(as.numeric(unlist(strsplit(as.character(it), "[^0-9]+")))))
element <- character()
for (i in 1:length(numbers)){
if(floor(((numbers[i]/9) %% 1)*10)!=0){
group <- as.integer((numbers[i]/9)+1)
article <- floor(((numbers[i]/9) %% 1)*10)
article <- paste(c("articulo",article), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}else{
group <- as.integer(numbers[i]/9)
article <- paste(c("articulo",9), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}
}
return(element)
}
sapply(ejemplo$items, unliststr)
ejemplo$items <- as.character(ejemplo$items)
items <- sapply(ejemplo$items, unliststr)
items
ejemplo$extra <- sapply(ejemplo$items, unliststr)
View(ejemplo)
View(periodico)
periodico$items <- as.character(periodico$items)
items <- sapply(periodico$items, unliststr)
periodico$articulos <- sapply(periodico$items, unliststr)
View(periodico)
ejemplo$extra<-NULL
head(example.bots)
example.bots <- as.character()
time <- as.numeric()
for(i in 1:length(periodico$entry)){
calc <- as.numeric(difftime(periodico$exit[i], periodico$entry[i], unit="sec"))
time <- append(time,calc)
if (calc < 21){
example.bots <- append(example.bots, as.character(periodico$ID[i]))
}
}
length(example.bots)
length(time)
head(time)
periodico[1]
periodico[1,]
max(times)
max(time)
as.numeric(difftime(periodico$exit[1], periodico$entry[1], unit="sec"))
periodico$exit[1]
ejemplo$exit[1]
class(ejemplo$exit[1])
class(periodico$exit[1])
as.factor(periodico$entry[1])
periodico$entry <- as.POSIXct(periodico$entry, origin = "1970-01-01")
periodico$exit <- as.POSIXct(periodico$exit, origin = "1970-01-01")
class(periodico$exit[1])
periodico$exit[1]
as.numeric(difftime(periodico$exit[1], periodico$entry[1], unit="sec"))
periodico$entry[1]
periodico$entry[[1]]
periodico$entry[1][1]
View(periodico)
periodico <- read.csv("periodico.csv")
ejemplo <- read.csv("ejemplo.csv")
colnames(periodico)[5] <-  "items"
ejemplo$X <- NULL
periodico$X <- NULL
names(periodico)
as.numeric(difftime(periodico$exit[1], periodico$entry[1], unit="sec"))
class(periodico$exit[1])
example.bots <- as.character()
time <- as.numeric()
for(i in 1:length(periodico$entry)){
calc <- as.numeric(difftime(periodico$exit[i], periodico$entry[i], unit="sec"))
time <- append(time,calc)
if (calc < 21){
example.bots <- append(example.bots, as.character(periodico$ID[i]))
}
}
periodico$times <- time
View(periodico)
rm(times)
rm(time)
View(periodico)
View(periodico)
contenido <- c("deportes","politica","variedades","internacional","nacionales","sucesos","comunidad","negocios","opinion")
unliststr <- function(vec){
it <- unlist(strsplit(vec, ","))
numbers <- unique(na.omit(as.numeric(unlist(strsplit(as.character(it), "[^0-9]+")))))
element <- character()
for (i in 1:length(numbers)){
if(floor(((numbers[i]/9) %% 1)*10)!=0){
group <- as.integer((numbers[i]/9)+1)
article <- floor(((numbers[i]/9) %% 1)*10)
article <- paste(c("articulo",article), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}else{
group <- as.integer(numbers[i]/9)
article <- paste(c("articulo",9), collapse = "")
item <- paste(c(contenido[group],article), collapse = "/")
element <- paste(c(element,item), collapse = ",")
}
}
return(element)
}
periodico$items <- as.character(periodico$items)
items <- sapply(periodico$items, unliststr)
periodico$articulos <- sapply(periodico$items, unliststr)
rm(items)
rm(item2article)
View(periodico)
max(periodico$times)
min(periodico$times)
min(c(3,2,6))
which.min(c(3,2,6))
which.max(periodico$times)
which.min(periodico$times)
times.order <- sort(periodico$times, decreasing = FALSE)
head(times.order)
last(times.order)
View(periodico)
periodico <- read.csv("periodico.csv")
ejemplo <- read.csv("ejemplo.csv")
colnames(periodico)[5] <-  "items"
ejemplo$X <- NULL
periodico$X <- NULL
example.bots <- as.character()
periodico$entry <- as.POSIXct(periodico$entry, origin = "1970-01-01")
periodico$exit <- as.POSIXct(periodico$exit, origin = "1970-01-01")
time <- as.numeric()
for(i in 1:length(periodico$entry)){
calc <- as.numeric(difftime(periodico$exit[i], periodico$entry[i], unit="sec"))
time <- append(time,calc)
if (calc < 21){
example.bots <- append(example.bots, as.character(periodico$ID[i]))
}
}
View(periodico)
head(time)
periodico <- read.csv("periodico.csv")
colnames(periodico)[5] <-  "items"
periodico$X <- NULL
periodico <- mutate(periodico, estadia = exit - entry)
periodico$entry <- as.POSIXct(periodico$entry, origin = "1970-01-01")
periodico$exit <- as.POSIXct(periodico$exit, origin = "1970-01-01")
periodico$entry <- as.POSIXct(periodico$entry, origin = "1970-01-01")
periodico$exit <- as.POSIXct(periodico$exit, origin = "1970-01-01")
periodico$entry <- as.POSIXct(periodico$entry, origin = "1970-01-01")
periodico$exit <- as.POSIXct(periodico$exit, origin = "1970-01-01")
periodico <- mutate(periodico, estadia = exit - entry)
estadia <- periodico$estadia
head(estadia)
periodico <- read.csv("periodico.csv")
colnames(periodico)[5] <-  "items"
periodico$X <- NULL
?as.Date
periodico$entry <- as.Date(periodico$entry)
class(periodico$exit)
class(periodico$entry)
periodico$exit <- as.Date(periodico$exit)
periodico <- mutate(periodico, estadia = exit - entry)
estadia <- periodico$estadia
head(estadia)
periodico <- read.csv("periodico.csv")
colnames(periodico)[5] <-  "items"
periodico$X <- NULL
periodico$entry <- as.Date(periodico$entry)
periodico$exit <- as.Date(periodico$exit)
example.bots <- as.character()
time <- as.numeric()
for(i in 1:length(periodico$entry)){
calc <- as.numeric(difftime(periodico$exit[i], periodico$entry[i], unit="sec"))
time <- append(time,calc)
if (calc < 21){
example.bots <- append(example.bots, as.character(periodico$ID[i]))
}
}
head(c(1,2,3,4,5,6,5,4,3,2,1))
head(c(1,2,3,4,5,6,5,4,3,2,1), 10)
